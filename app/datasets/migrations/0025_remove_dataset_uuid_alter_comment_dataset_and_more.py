# Generated by Django 5.2.7 on 2025-12-04 12:32
# Modified to use SeparateDatabaseAndState - database is already correct

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('datasets', '0024_add_dataset_analysis'),
    ]

    operations = [
        # The database schema is already correct (uuid was renamed to id in migration 0020)
        # This migration only updates Django's tracked state to match the current models
        migrations.SeparateDatabaseAndState(
            database_operations=[],
            state_operations=[
                # Remove uuid from Django's model state (database doesn't have it)
                migrations.RemoveField(
                    model_name='dataset',
                    name='uuid',
                ),
                # Update foreign key field definitions to match current model state
                migrations.AlterField(
                    model_name='comment',
                    name='dataset',
                    field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='datasets.dataset', verbose_name='Dataset'),
                ),
                migrations.AlterField(
                    model_name='datasetdownload',
                    name='dataset',
                    field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='downloads', to='datasets.dataset'),
                ),
                migrations.AlterField(
                    model_name='datasetversion',
                    name='dataset',
                    field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='versions', to='datasets.dataset'),
                ),
            ],
        ),
    ]
